# 安全政策

## 支持的版本

我们致力于为以下版本提供安全更新：

| 版本 | 支持状态 |
| ---- | -------- |
| 1.0.x | ✅ 支持 |
| < 1.0  | ❌ 不支持 |

## 报告漏洞

我们非常重视安全问题。如果您发现了安全漏洞，请按照以下步骤报告：

### 1. 不要公开披露

**重要**：请不要在GitHub Issues、讨论区或其他公开渠道中报告安全漏洞。

### 2. 私下报告

请通过以下方式私下报告安全漏洞：

- 通过GitHub Issues（设置为私有）
- 通过赞助渠道联系维护者
- 主题行请包含：`[SECURITY] 安全漏洞报告`

### 3. 报告内容

请在报告中包含以下信息：

- 漏洞的详细描述
- 重现步骤
- 可能的影响
- 建议的修复方案（如果有）

### 4. 响应时间

我们承诺：
- 在收到报告后 **24小时内** 确认收到
- 在 **72小时内** 提供初步评估
- 在 **7天内** 提供详细的修复计划

### 5. 披露政策

- 安全漏洞将在修复后公开披露
- 披露将包括漏洞描述、影响评估和修复详情
- 我们将给予发现者适当的致谢（除非他们选择匿名）

## 安全最佳实践

### 对于用户

1. **保持更新**：始终使用最新版本
2. **环境隔离**：在生产环境中使用前充分测试
3. **权限最小化**：仅授予必要的权限
4. **监控日志**：定期检查应用日志

### 对于贡献者

1. **代码审查**：所有代码变更都需要安全审查
2. **依赖检查**：定期更新依赖包
3. **安全测试**：在提交前进行安全测试
4. **遵循最佳实践**：使用安全的编码实践

## 密钥管理与报告流程

### 密钥安全最佳实践

本项目使用多层防护确保敏感信息不会泄漏：

#### 1. 本地开发环境
- 使用 `env.json.EXAMPLE` 作为配置模板，实际配置文件 `env.json` 已加入 `.gitignore`
- 所有敏感信息（API密钥、Token、Cookie等）仅存储在本地配置文件中
- 配置文件路径：
  - `env.json` - 主配置文件（已忽略）
  - `.env` - 环境变量文件（已忽略）
  - `*.cookies` - Cookie文件（已忽略）
  - `*.session` - 会话文件（已忽略）

#### 2. 代码提交防护
- 集成 `detect-secrets` 工具进行提交前扫描
- 使用 `.pre-commit-config.yaml` 配置自动检查
- 维护 `.secrets.baseline` 基线文件，记录已知的非敏感匹配项

#### 3. 持续集成安全
- GitHub Actions 启用 CodeQL 安全分析
- Dependabot 自动检查依赖包安全更新
- 所有 PR 都会进行安全扫描

### 如果意外提交了敏感信息

#### 立即响应步骤
1. **不要推送**：如果尚未推送到远程仓库，使用 `git reset` 撤销提交
2. **立即通知**：如果已推送，立即联系项目维护者
3. **撤销密钥**：立即在相关平台撤销泄漏的 API 密钥或 Token
4. **清理历史**：项目维护者将协助清理 Git 历史记录

#### 预防措施
- 提交前运行 `detect-secrets scan` 检查
- 使用 `git add -p` 逐块确认提交内容
- 定期轮换 API 密钥和访问令牌
- 使用最小权限原则配置 API 访问

### 密钥轮换建议
- **Cookie/Session**: 每次使用后建议重新获取
- **API 密钥**: 每月轮换一次
- **访问令牌**: 根据平台建议的过期时间设置

### 报告安全事件
如发现可能的密钥泄漏或安全漏洞，请按照本文档"报告漏洞"部分的流程进行报告。

## 安全更新

安全更新将通过以下方式发布：

1. **紧急修复**：立即发布补丁版本
2. **定期更新**：在常规发布周期中包含安全修复
3. **公告**：在GitHub Releases中详细说明安全变更

## 联系信息

如果您对安全政策有任何疑问，请联系：

- 项目维护者：张衔瑜 (@xianyu564)
- 通过GitHub Issues或赞助渠道联系
- 紧急安全问题：通过赞助渠道优先处理

---

感谢您帮助我们保持项目的安全性！
